{namespace neos=Neos\Neos\ViewHelpers}

<f:for each="{items}" as="item" iteration="it">
    <div class="columns large-4{f:if(condition: '{it.cycle} == 2', then: ' large-push-4')}{f:if(condition: '{it.cycle} == 3', then: ' large-pull-4')} {item.property.area}">
        <ul class="vertical menu">
            <f:if condition="{item.subItems}">
                <f:render section="submenu" arguments="{items: item.subItems}"></f:render>
            </f:if>
        </ul>
    </div>
</f:for>

<f:section name="submenu">
    <f:if condition="{level}"><ul class="vertical menu sublevel"></f:if>
    <f:for each="{items}" as="item">
            <li>
                <neos:link.node node="{item.node}" />
                <f:if condition="{item.subItems}">
                    <f:render section="submenu" arguments="{items: item.subItems, level: 1}"></f:render>
                </f:if>
            </li>
    </f:for>
    <f:if condition="{level}"></ul></f:if>
</f:section>
